

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nnp-norm &mdash; n2p2 - A neural network potential package 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nnp-predict" href="nnp-predict.html" />
    <link rel="prev" title="nnp-convert" href="nnp-convert.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> n2p2 - A neural network potential package
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Topics/build.html">Build instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/descriptors.html">Atomic environment descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/keywords.html">NNP configuration: keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/cfg_file.html">Configuration file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/if_lammps.html">LAMMPS NNP interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/pair_nnp.html">LAMMPS NNP pair style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/training.html">NNP training procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/units.html">Units</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="libnnp.html">The libnnp core library</a></li>
<li class="toctree-l1"><a class="reference internal" href="nnp-convert.html">nnp-convert</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">nnp-norm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sample-screen-output">Sample screen output:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-output">File output:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nnp-predict.html">nnp-predict</a></li>
<li class="toctree-l1"><a class="reference internal" href="nnp-prune.html">nnp-prune</a></li>
<li class="toctree-l1"><a class="reference internal" href="nnp-select.html">nnp-select</a></li>
<li class="toctree-l1"><a class="reference internal" href="nnp-scaling.html">nnp-scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="nnp-train.html">nnp-train</a></li>
</ul>
<p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../About/authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../About/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../About/changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">n2p2 - A neural network potential package</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>nnp-norm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Tools/nnp-norm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nnp-norm">
<span id="id1"></span><h1>nnp-norm<a class="headerlink" href="#nnp-norm" title="Permalink to this headline">¶</a></h1>
<p>This is a helper tool for the <a class="reference internal" href="../Topics/training.html#training"><span class="std std-ref">training procedure</span></a> which enables
an optional data set normalization. Please have a look at this <a class="reference internal" href="../Topics/units.html#units"><span class="std std-ref">explanation</span></a> why normalization may help to achieve consistent training results.
A full description of the procedure is provided in section 3.1 in <a class="footnote-reference brackets" href="#id3" id="id2">1</a>. In
short, the normalization is achieved by subtracting a mean energy per atom and
converting energy and length units in such way that the energies per atom and the
forces have unit standard deviation. In practice, this requires three numbers
which are  computed from statistical characteristics of the data set:</p>
<ol class="arabic simple">
<li><p>mean energy per atom (keyword <code class="docutils literal notranslate"><span class="pre">mean_energy</span></code>)</p></li>
<li><p>energy unit conversion factor (keyword <code class="docutils literal notranslate"><span class="pre">conv_energy</span></code>)</p></li>
<li><p>length unit conversion factor (keyword <code class="docutils literal notranslate"><span class="pre">conv_length</span></code>)</p></li>
</ol>
<p>However, this tool will not actually apply the normalization to the data set but
rather store the above numbers as keyword-value pairs in an additional header of
the settings file. Other n2p2 tools will read them in, confirm the activation of
the normalization in the log file and automatically apply unit conversion
on-the-fly. No additional intervention by the user is required!</p>
<div class="section" id="requirements">
<h2>Requirements:<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>A data set with multiple configurations and a basic settings file are required:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input.data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input.nn</span></code></p></li>
</ul>
<p>A working symmetry function setup in the settings file is not required, only
basic information about elements is needed.</p>
</div>
<div class="section" id="usage">
<h2>Usage:<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nnp-norm
</pre></div>
</div>
</div>
<div class="section" id="sample-screen-output">
<h2>Sample screen output:<a class="headerlink" href="#sample-screen-output" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>*** DATA SET NORMALIZATION ****************************************************

Writing energy/atom vs. volume/atom data to &quot;evsv.dat&quot;.

Total number of structures: 20
Total number of atoms     : 2064
Mean/sigma energy per atom:  -2.33538240E-01 +/-   1.17415619E-03
Mean/sigma force          :  -8.55943153E-12 +/-   2.67687948E-02
Conversion factor energy  :   8.5167544626563699E+02
Conversion factor length  :   2.2798325235535355E+01

Writing converted data file to &quot;output.data&quot;.
WARNING: This data set is provided for debugging purposes only and is NOT intended for training.

Writing backup of original settings file to &quot;input.nn.bak&quot;.

Writing extended settings file to &quot;input.nn&quot;.

Use this settings file for normalized training.
*******************************************************************************
</pre></div>
</div>
</div>
<div class="section" id="file-output">
<h2>File output:<a class="headerlink" href="#file-output" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input.nn</span></code>: The settings file with additional normalization header.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input.nn.bak</span></code>: A backup of the original settings file without normalization keywords.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evsv.dat</span></code>: Energies, volumes and atom numbers of all configurations in the
data set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output.data</span></code>: The data set with normalization applied, only for debugging
purposes.</p></li>
</ul>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>Singraber, A.; Morawietz, T.; Behler, J.; Dellago, C. Parallel
Multistream Training of High-Dimensional Neural Network Potentials. J. Chem.
Theory Comput. 2019, 15 (5), 3075–3092. <a class="reference external" href="https://doi.org/10.1021/acs.jctc.8b01092">https://doi.org/10.1021/acs.jctc.8b01092</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nnp-predict.html" class="btn btn-neutral float-right" title="nnp-predict" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nnp-convert.html" class="btn btn-neutral float-left" title="nnp-convert" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Andreas Singraber

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>